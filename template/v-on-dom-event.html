<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>v-on DOM 事件處理技巧</title>
    <!-- Bootstarp 5 CSS CDN -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
    <style>
      .box {
        display: block;
        background-color: var(--bs-light);
        border: 1px solid var(--bs-gray);
        width: 80px;
        height: 80px;
      }
      .box {
        transition: all 0.5s;
      }
      .box.rotate {
        transform: rotate(45deg);
      }
    </style>
  </head>
  <body>
    <div id="app">
      <div class="container py-5">
        <h2>v-on DOM 事件處理技巧</h2>

        <h3>原生 DOM 事件</h3>
        <a href="https://www.w3schools.com/jsref/dom_obj_event.asp"
          >參考：DOM 事件</a
        >
        <div class="box" :class="{ rotate: isTransform }"></div>
        <hr />
        <!-- 當沒有參數時，預設第一個則是 dom 事件參數 -->
        <button class="btn btn-outline-primary" @click="changeClass">
          選轉物件
        </button>
        <button class="btn btn-outline-primary" @keyup.enter="changeClass">
          按鈕事件
        </button>
        <!-- 當如果有參數時，則可以使用 $event -->
        <button
          class="btn btn-outline-primary"
          @click="changeClassWithEvent('這段是自訂參數', $event)"
        >
          自訂參數
        </button>
        <br />
        <br />
        <h3>取得原生 input 數值</h3>
        <input type="text" @change="inputEvent" />
        <br /><br />
        <h3>監聽按鍵事件</h3>
        <input type="text" @keyup="keyboardEvent" />
      </div>
    </div>

    <!-- Vue 3 CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- Bootstrap 5 JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const app = {
        // 資料 (函式)
        data() {
          return {
            text: "小田",
            isTransform: true,
            num: 10,
          };
        },
        // 生命週期 (函式)
        created() {
          console.log(this);
        },
        // 方法 (物件)
        methods: {
          changeClass: function (e) {
            console.log("dom", e);
            this.isTransform = !this.isTransform;
          },
          changeClassWithEvent(parameter, e) {
            console.log(parameter, e);
          },
          inputEvent(e) {
            console.log(e);
            // 取值
            console.log(e.target.value);
          },
          keyboardEvent(e) {
            // console.log(e);
            console.dir(e.keyCode);
            if (e.keyCode === 13) {
              alert("你按下了 Enter");
            } else if (e.keyCode === 32) {
              alert("你按下了 空白鍵");
            }
          },
        },
      };

      Vue.createApp(app).mount("#app");
    </script>
  </body>
</html>
